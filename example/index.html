<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <title>formErrorMsg测试用例</title>
</head>
<body>
	<div id="app">
		<h2>一般使用场景</h2>
		<el-form :model="formData" :rules="rules" label-width="80px" ref="ruleForm">
			<el-form-item label="姓名" prop="username">
				<template slot="error" slot-scope="error">
					<el-popover
						placement="bottom"
						title="标题"
						width="200"
						trigger="manual"
						:content="error.error"
						:value="!!error.error">
						<el-input v-model="formData.username" slot="reference" style="width:240px"></el-input>
					</el-popover>
				</template>
			</el-popover>
			</el-form-item>
			<el-form-item label="手机号" prop="telphone">
				<el-input v-model="formData.telphone" style="width:240px"></el-input>
			</el-form-item>
			<el-form-item>
				<el-button type="info">重置</el-button>
				<el-button type="primary">提交</el-button>
			</el-form-item>
		</el-form>
		<h2>表格单元格使用</h2>
		<h2>列表滚动</h2>
		<h2>自定义错误信息</h2>
	</div>
	<script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
	<script src="../index.js"></script>
	<script>
		Vue.use(FormErrorMsg)
		new Vue({
			el: '#app',
			data(){
				return {
					formData:{
						username:'',
						telphone:''
					},
					rules:{
						username:[{ required: true, message: '请填写姓名', trigger: 'blur' }],
						telphone:[
							{
								trigger: 'blur',
								validator:(rule, value, callback)=>{
									if(!value){
										callback(new Error("请输入电话号码"))
									}else if(!(/^1[3456789]\d{9}$/.test(value))){
										callback(new Error("电话号码格式有误"))
									} else {
										callback()
									}
								}
							}
						]
					}
				}
			},
			methods:{
				submit(){
					this.$refs['ruleForm'].validate()
				}
			}
		})
	</script>
</body>
</html>